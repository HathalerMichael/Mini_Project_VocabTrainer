<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:LearningApp.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1280" d:DesignHeight="920"
        Width="1280" Height="920"
        x:Class="LearningApp.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="LearningApp">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid ColumnDefinitions="2*,*">
        <Border Grid.Column="0" Margin="10" BorderBrush="Gray" BorderThickness="1" CornerRadius="5">
            <Grid RowDefinitions="*,Auto,Auto">
                <Border Grid.Row="0" 
                        Background="Orange" 
                        CornerRadius="10" 
                        Margin="20"
                        Padding="40"
                        IsVisible="{Binding CurrentCard, Converter={x:Static ObjectConverters.IsNotNull}}">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock Text="{Binding CurrentCard.Original}" 
                                   FontSize="32" 
                                   FontWeight="Bold"
                                   TextAlignment="Center"
                                   Margin="0,0,0,20"/>
                        
                        <TextBlock Text="{Binding CurrentCard.Translation}" 
                                   FontSize="28"
                                   TextAlignment="Center"
                                   Foreground="DarkBlue"
                                   IsVisible="{Binding ShowTranslation}"
                                   Margin="0,0,0,20"/>
                        
                        <TextBlock Text="{Binding CurrentCard.ExampleSentence}" 
                                   FontSize="16"
                                   TextAlignment="Center"
                                   FontStyle="Italic"
                                   IsVisible="{Binding ShowTranslation}"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,10"/>
                        
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" IsVisible="{Binding ShowTranslation}">
                            <TextBlock Text="Sprache: " FontSize="14"/>
                            <TextBlock Text="{Binding CurrentCard.Language}" FontSize="14" FontWeight="Bold"/>
                            <TextBlock Text=" | Schwierigkeit: " FontSize="14" Margin="10,0,0,0"/>
                            <TextBlock Text="{Binding CurrentCard.DifficultyLevel}" FontSize="14" FontWeight="Bold"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <TextBlock Grid.Row="0"
                           Text="Keine Vokabelkarten vorhanden. Füge eine neue hinzu!" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"
                           FontSize="18"
                           Foreground="Gray"
                           IsVisible="{Binding CurrentCard, Converter={x:Static ObjectConverters.IsNull}}"/>

                <TextBlock Grid.Row="1" 
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"
                           IsVisible="{Binding CurrentCard, Converter={x:Static ObjectConverters.IsNotNull}}">

                </TextBlock>

                <StackPanel Grid.Row="2" 
                            Orientation="Horizontal" 
                            HorizontalAlignment="Center"
                            Spacing="10"
                            Margin="0,0,0,20">
                    <Button Content="◀ Zurück" 
                            Command="{Binding PreviousCardCommand}"
                            Width="120"/>
                    <Button Content="Übersetzen" 
                            Command="{Binding ToggleTranslationCommand}"
                            Width="120"/>
                    <Button Content="Weiter ▶" 
                            Command="{Binding NextCardCommand}"
                            Width="120"/>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Column="1" RowDefinitions="Auto,*">
            <Border Grid.Row="0" Margin="10" BorderBrush="Gray" BorderThickness="1" CornerRadius="5">
                <StackPanel Margin="10">
                    <TextBlock Text="Vokabelset auswählen:" Margin="0,0,0,5"/>
                    <ComboBox Width="200"
                             HorizontalAlignment="Left"
                             ItemsSource="{Binding VocabSets}"
                             SelectedItem="{Binding SelectedVocabSet}">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}"/>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <TextBox Width="200"
                                Watermark="Neuer Set Name"
                                Text="{Binding NewVocabSetName}"/>
                        <Button Content="+" 
                                Margin="5,0,0,0"
                                Command="{Binding AddVocabSetCommand}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Grid.Row="1" Margin="10" BorderBrush="Gray" BorderThickness="1" CornerRadius="5">
                <StackPanel Margin="10">
                    <TextBlock Text="Neue Vokabel erstellen" 
                             FontWeight="Bold" 
                             Margin="0,0,0,10"/>
                    
                    <ComboBox Width="200"
                              ItemsSource="{Binding AvailableLanguages}"
                              SelectedItem="{Binding NewLanguage}"
                              PlaceholderText="Sprache auswählen..."
                              HorizontalAlignment="Left"
                              Margin="0,0,0,10"/>
                    
                    <TextBlock Text="Deutsch:"/>

                    <TextBox Margin="0,0,0,10"
                            Text="{Binding NewGermanWord}"/>
                    
                    <TextBlock Text="{Binding NewLanguage, StringFormat='{}Übersetzung ({0}):'}"/>
                    <TextBox Margin="0,0,0,10"
                            Text="{Binding NewTranslationWord}"/>

                    <TextBlock Text="Beispielsatz:"/>
                    <TextBox Margin="0,0,0,10"
                            Text="{Binding NewExampleSentence}"
                            Height="60"
                            TextWrapping="Wrap"
                            AcceptsReturn="True"/>
                    
                    <TextBlock Text="Schwierigkeitsstufe:"/>
                    <NumericUpDown Minimum="0" 
                        Maximum="10" 
                        Value="{Binding DifficultyLevel}"
                        Increment="1"
                        FormatString="0"
                        Width="200"
                        HorizontalAlignment="Left"
                        Margin="0,0,0,10"/>        
                                
                    <Button Content="Hinzufügen"
                            HorizontalAlignment="Left"
                            Command="{Binding AddVocabCommand}"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
